需求（一句话总结）
 利用langgraph来实现,大模型暂时使用deepseek
一个「滚动式 + 人工全程介入 + 设定自动生长 + 每次生成都新建文件方便你删改」的超长篇小说连载生成器。

大纲放在data/Outline/下，设定放在data/WorldGuide下，已生成的章节放在data/Chapter下

规定：
- 大纲每次15章，生成后新建 `大纲_第1-15章.txt`、`大纲_第16-30章.txt`……大纲篇幅至少为这批章节的总正文的30%，同时不需要解释，生成的大纲时不包含章节标题，不要把内容按照章节去分段，而是连贯的写下来，以免降低创造力
- 新设定集和新大纲都建立新文件放，不与旧的设定集和大纲合并。新大纲承接旧大纲的剧情
- 根据大纲与设定集，依次生成标题与正文，每章约4000字，生成后保存为 `第1章 标题.txt`、`第2章 标题.txt`……标题那一步直接给出标题即可，不需要解释
- 每一步都暂停让你确认/修改/重写，全部用新建文件方式，方便你直接在文件夹里删改。修改时是直接在文件里修改
- 生成过程同时参考一些著作，大纲，之前的情节，设定集
- 聊天断了也能接着写，要记录下运行状态在哪个节点，然后启动时接着运行
- 参考著作只借鉴但是不能误用其中设定和剧情；本小说的过往章节是要重点使用的，尤其是要保证剧情连贯性和前后伏笔一致，世界观可拓展。
- 直接读取文件内容来使用参考著作、之前的剧情。
- 新大纲和旧大纲是剧情上的先后关系，放在一个文件夹下；设定集和过往章节同理；设定如果出现冲突，优先改动新设定；
- 新大纲默认旧大纲中的剧情已经完全写完，新大纲是接着写
- 标题不是剧情，剧情要具体看文章和大纲、设定
- 新大纲与已写章节不能冲突
- 在人工干预环节，应当有加入本轮的聊天记忆来综合去完成

- 系统应支持持续对话模式，无需重启程序即可继续创作流程，每一个部分都串联在一个程序中
- 所有交互状态通过文件系统持久化保存，确保会话连续性
- 用户可在任何时候中断并重新连接，系统应能恢复到上次停止的精确位置
- 每个操作节点完成后自动保存状态，支持随时恢复

- 提供Web前端界面，方便用户查看和编辑生成的小说内容
- 前端应能实时显示当前状态和生成进度
- 支持文件浏览和在线编辑功能
- 提供操作按钮用于确认、修改、重生成等操作
- 界面应简洁直观，符合用户习惯

小说文件格式：第x章 标题.txt
、、、
第x章 标题
正文
、、、

- 应该记录下状态，放置聊天中断了，最好做成一个个api，然后集成起来

START（小说刚开始写，此时用任意长度文本给定最初的小说主题和一些灵感）
  ↓
1. 用情节和主题提示词+所有大纲+所有设定集 → 生成新大纲（简述）
   ↓ (暂停：显示大纲，问"确认/重新生成章节？" → 更新)
2. 用新大纲+所有设定集 → 生成新设定集
   ↓ (暂停：显示设定，问"确认/重新生成设定？" → 可以多次补充，直到你说"继续")
3. 进入章节循环：
   - 用新大纲+所有设定集 生成下一章（标题，正文2000-6000字，带完整状态）
   - 保存章节
   ↓ (暂停：显示章节，问"确认/修改/重生成？" → 如果修改，更新已写章节)
   - 如果还有章节，继续循环；否则合并完整小说
  ↓
（暂停：询问是否结束，如果不结束就继续；如果结束就回到start）
回到1，继续生成大纲

